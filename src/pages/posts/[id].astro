---
import Layout from '@/layouts/Layout.astro'
import Post from '@/components/Post.astro'

import { getAllPosts } from '@/posts'

export async function getStaticPaths() {
  const posts = await getAllPosts()
  return posts.map((post) => ({
    params: { id: post.id },
    props: { post },
  }))
}

const { id } = Astro.params
const { post } = Astro.props
const { title, description } = post
---

<Layout title={title} description={description} largeImage>
  <Post postId={id} />
</Layout>
